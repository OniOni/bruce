[glob:py]
glob = **/*.py

[file:reqs]
path = requirements.txt

[file:venv]
path = venv

[task:clean]
cmd = rm -rf venv/ __pycache__/ build/ dist/ *egg*
watch = venv

[task:init]
cmd = python3 -m venv venv
watch = venv

[task:deps]
cmd = venv/bin/pip install -r requirements.txt
watch = reqs
upstream = init

[task:black]
cmd = venv/bin/black . --exclude venv
watch = py
upstream = deps

[task:isort]
cmd = venv/bin/isort --skip venv -rc -y
watch = py
upstream = deps

[task:mypy]
cmd = venv/bin/mypy --strict *.py
watch = py
upstream = black, isort

[task:qa]
upstream = mypy,black,isort
cmd = echo "QA'd"

[task:wheel]
upstream = deps
watch = py
cmd = venv/bin/python setup.py bdist_wheel
